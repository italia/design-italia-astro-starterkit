---
const {
  image,
  title,
  alt,
  author,
  workDate,
  titleSize = "normal",
  ratio = "21x9",
} = Astro.props;
const date = new Date(workDate);
---

<style lang="scss">
  .card-wrapper {
    background-color: var(--bs-card-bg);
  }
</style>

<div class="overflow-hidden h-100">
  <div class="card-img no-after">
    {
      image && (
        <div class={`img-responsive-wrapper ratio ratio-${ratio}`}>
          <figure>
            <img src={image} alt={alt} class="w-100 h-100 object-fit-cover" />
          </figure>
        </div>
      )
    }
    <div class="d-flex flex-column justify-content-between">
      <div>
        {
          titleSize === "normal" && (
            <h4 class="card-title h4 multiline-ellipsis-2 text-primary mt-3">
              {title}
            </h4>
          )
        }
        {
          titleSize === "small" && (
            <h6 class="card-title h6 multiline-ellipsis-2 text-primary mt-3">
              {title}
            </h6>
          )
        }
        {
          author && (
            <div class="text-secondary fw-bold mt-2">
              {author}
            </div>
          )
        }
      </div>
      <div class="mt-2">
        <span class="font-monospace small fw-normal text-muted">
          {
            date.toLocaleDateString("it-IT", {
              day: "numeric",
              month: "long",
              year: "numeric",
            })
          }
        </span>
      </div>
    </div>
  </div>
</div>
